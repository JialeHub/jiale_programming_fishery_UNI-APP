(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-index"],{"0391":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-cell[data-v-45e5d0ca]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;box-sizing:border-box;width:100%;padding:%?26?% %?32?%;font-size:%?28?%;line-height:%?54?%;color:#606266;background-color:#fff;text-align:left}.u-cell_title[data-v-45e5d0ca]{font-size:%?28?%}.u-cell__left-icon-wrap[data-v-45e5d0ca]{margin-right:%?10?%;font-size:%?32?%}.u-cell__right-icon-wrap[data-v-45e5d0ca]{margin-left:%?10?%;color:#969799;font-size:%?28?%}.u-cell__left-icon-wrap[data-v-45e5d0ca],\n.u-cell__right-icon-wrap[data-v-45e5d0ca]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?48?%}.u-cell-border[data-v-45e5d0ca]:after{position:absolute;box-sizing:border-box;content:" ";pointer-events:none;border-bottom:1px solid #e4e7ed;right:0;left:0;top:0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.u-cell-border[data-v-45e5d0ca]{position:relative}.u-cell__label[data-v-45e5d0ca]{margin-top:%?6?%;font-size:%?26?%;line-height:%?36?%;color:#909399;word-wrap:break-word}.u-cell__value[data-v-45e5d0ca]{overflow:hidden;text-align:right;vertical-align:middle;color:#909399;font-size:%?26?%}.u-cell__title[data-v-45e5d0ca],\n.u-cell__value[data-v-45e5d0ca]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.u-cell--required[data-v-45e5d0ca]{overflow:visible;\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n-webkit-box-align:center;-webkit-align-items:center;align-items:center}.u-cell--required[data-v-45e5d0ca]:before{position:absolute;content:"*";left:8px;margin-top:%?4?%;font-size:14px;color:#fa3534}.u-cell_right[data-v-45e5d0ca]{line-height:1}',""]),e.exports=t},"1dcf":function(e,t,n){"use strict";n.r(t);var i=n("6d18"),r=n("be77");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o,l=n("f0c5"),u=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"0ece924a",null,!1,i["a"],o);t["default"]=u.exports},"1ea7":function(e,t,n){var i=n("9d63");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("be88910c",i,!0,{sourceMap:!1,shadowMode:!1})},"212e":function(e,t,n){"use strict";n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-cell-item",props:{icon:{type:String,default:""},title:{type:[String,Number],default:""},value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},borderBottom:{type:Boolean,default:!0},borderTop:{type:Boolean,default:!1},hoverClass:{type:String,default:"u-cell-hover"},arrow:{type:Boolean,default:!0},center:{type:Boolean,default:!1},required:{type:Boolean,default:!1},titleWidth:{type:[Number,String],default:""},arrowDirection:{type:String,default:"right"},titleStyle:{type:Object,default:function(){return{}}},valueStyle:{type:Object,default:function(){return{}}},labelStyle:{type:Object,default:function(){return{}}},bgColor:{type:String,default:"transparent"},index:{type:[String,Number],default:""},useLabelSlot:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:34},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{arrowStyle:function(){var e={};return"up"==this.arrowDirection?e.transform="rotate(-90deg)":"down"==this.arrowDirection?e.transform="rotate(90deg)":e.transform="rotate(0deg)",e}},methods:{click:function(){this.$emit("click",this.index)}}};t.default=i},3030:function(e,t,n){"use strict";n.r(t);var i=n("212e"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"3a50":function(e,t,n){"use strict";n.r(t);var i=n("c2d3"),r=n("3030");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("f811");var o,l=n("f0c5"),u=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"45e5d0ca",null,!1,i["a"],o);t["default"]=u.exports},"421f":function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=i(n("1da1")),a=n("02d29"),o={data:function(){return{score:{all:{min:0,max:0,sum:0,avg:0},day:{min:0,max:0,sum:0,avg:0},month:{min:0,max:0,sum:0,avg:0},week:{min:0,max:0,sum:0,avg:0},year:{min:0,max:0,sum:0,avg:0}},selector:["单拖","双拖","拖虾","围网","罩网","刺网","钓具","笼壶","张网","杂渔具","潜捕","拖贝"],count:0,scoreNull:0}},onLoad:function(){},mounted:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getUserInfo)();case 2:e.collectMe();case 3:case"end":return t.stop()}}),t)})))()},methods:{collectMe:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.collectMeApi().then((function(e){return e})).catch((function(e){return e}));case 2:n=t.sent,200===n.status&&(e.score=n.score,e.count=n.count,e.scoreNull=n.scoreNull);case 4:case"end":return t.stop()}}),t)})))()},goPage:function(e){uni.navigateTo({url:"/pages/person/person/".concat(e,"/index"),animationType:"slide-in-right",animationDuration:100})},logout:function(){var t=this;uni.showModal({title:"提示",content:"确认退出登录吗?",confirmText:"确认",cancelText:"取消",success:function(){var n=(0,r.default)(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!i.confirm){n.next=9;break}return uni.showLoading(),n.next=4,t.$api.logoutApi();case 4:return n.next=6,t.$store.dispatch("exitLogin");case 6:uni.hideLoading(),n.next=10;break;case 9:i.cancel&&e.log("取消退出登录");case 10:case"end":return n.stop()}}),n)})));function i(e){return n.apply(this,arguments)}return i}()})}},computed:{userInfo:function(){return this.$store.getters.user},genderText:function(){return 0===this.userInfo["gender"]?"保密":1===this.userInfo["gender"]?"男":2===this.userInfo["gender"]?"女":void 0}}};t.default=o}).call(this,n("5a52")["default"])},"4dfb":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uIcon:n("1210").default,uForm:n("1cd4").default,uFormItem:n("bc43").default,uInput:n("7d67").default,uButton:n("6012").default,uModal:n("f817").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"login",staticStyle:{padding:"20rpx"}},[n("v-uni-view",[0===e.model?n("v-uni-view",{staticStyle:{"font-size":"42rpx","margin-top":"30rpx"}},[e._v("用户登录")]):e._e(),1===e.model?n("v-uni-view",{staticStyle:{"font-size":"42rpx","margin-top":"30rpx"}},[e._v("用户注册")]):e._e()],1),n("v-uni-view",{staticStyle:{display:"flex","justify-content":"center","margin-top":"120rpx","margin-bottom":"40rpx"}},[n("u-icon",{attrs:{name:"/static/svg/userLogin.svg",size:"200rpx"}})],1),n("transition",{attrs:{name:"fade",mode:"out-in"}},[0===e.model?n("v-uni-view",[n("u-form",{ref:"uForm",staticStyle:{padding:"20rpx"},attrs:{model:e.form,"error-type":["toast"]}},[n("u-form-item",{attrs:{label:"","left-icon":"account-fill",prop:"username"}},[n("u-input",{attrs:{"confirm-type":"next",type:"text",placeholder:"请输入账号",trim:!0},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("u-form-item",{attrs:{label:"","left-icon":"lock-fill",prop:"password"}},[n("u-input",{attrs:{placeholder:"请输入密码",trim:!0,type:"password"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),n("v-uni-view",{staticStyle:{"margin-top":"30rpx"}},[n("u-button",{attrs:{disable:e.btnLoading,type:"primary",ripple:!0,plain:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeModel(1)}}},[e._v("还没账号？去注册")]),n("u-button",{staticStyle:{"margin-top":"40rpx"},attrs:{disable:e.btnLoading,ripple:!0,type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}},[e._v("登录")])],1)],1):e._e(),1===e.model?n("v-uni-view",[n("u-form",{ref:"uForm2",staticStyle:{padding:"20rpx"},attrs:{model:e.form2,"error-type":["toast"]}},[n("u-form-item",{attrs:{label:"","left-icon":"account-fill",prop:"username"}},[n("u-input",{attrs:{"confirm-type":"next",type:"text",placeholder:"请输入账号",trim:!0},model:{value:e.form2.username,callback:function(t){e.$set(e.form2,"username",t)},expression:"form2.username"}})],1),n("u-form-item",{attrs:{label:"","left-icon":"lock-fill",prop:"password"}},[n("u-input",{attrs:{placeholder:"请输入密码",trim:!0,type:"password"},model:{value:e.form2.password,callback:function(t){e.$set(e.form2,"password",t)},expression:"form2.password"}})],1),n("u-form-item",{attrs:{label:"","left-icon":"lock-fill",prop:"password2"}},[n("u-input",{attrs:{placeholder:"请再次输入密码",trim:!0,type:"password"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}},model:{value:e.form2.password2,callback:function(t){e.$set(e.form2,"password2",t)},expression:"form2.password2"}})],1)],1),n("v-uni-view",{staticStyle:{"margin-top":"30rpx"}},[n("u-button",{attrs:{disable:e.btnLoading,type:"primary",ripple:!0,plain:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeModel(0)}}},[e._v("已有账号？去登录")]),n("u-button",{staticStyle:{"margin-top":"40rpx"},attrs:{disable:e.btnLoading,ripple:!0,type:"primary"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[e._v("注册")])],1)],1):e._e()],1),n("u-modal",{attrs:{"show-confirm-button":e.showConfirm,"show-cancel-button":e.showCancel,width:"500rpx",title:e.modalTitle},on:{cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.modalShow=!1}},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[n("v-uni-view",{staticStyle:{height:"50rpx",width:"10rpx"}})],1)],1)},a=[]},"518d":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-cell-box"},[e.title?n("v-uni-view",{staticClass:"u-cell-title",style:[e.titleStyle]},[e._v(e._s(e.title))]):e._e(),n("v-uni-view",{staticClass:"u-cell-item-box",class:{"u-border-bottom u-border-top":e.border}},[e._t("default")],2)],1)},a=[]},"5df1":function(e,t,n){"use strict";n.r(t);var i=n("fd09"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},6227:function(e,t,n){"use strict";var i=n("1ea7"),r=n.n(i);r.a},"6d18":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uAvatar:n("2e32").default,uGrid:n("3cba").default,uGridItem:n("4b5d").default,uCellGroup:n("828d").default,uCellItem:n("3a50").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"person"},[n("v-uni-view",{staticStyle:{display:"flex",height:"220rpx",width:"750rpx","align-items":"center","background-color":"#fff"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("nickname")}}},[n("v-uni-view",{on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.goPage("avatar")}}},[n("u-avatar",{staticStyle:{"margin-left":"50rpx"},attrs:{src:e.$isEmpty(e.userInfo["avatar"])?"/static/icon/user.png":e.$baseURL+e.$addBaseURL(e.userInfo["avatar"]),mode:"square",size:"110"}})],1),n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-between",height:"110rpx","margin-left":"30rpx"}},[n("v-uni-text",{staticStyle:{"font-size":"36rpx","font-weight":"500"}},[e._v(e._s(e.userInfo["nickname"]))]),n("v-uni-text",{staticStyle:{"font-size":"28rpx",color:"#999999"}},[e._v(e._s(e.userInfo["username"]))])],1)],1),n("u-grid",{attrs:{col:4}},[n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.score.day["sum"]))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("日总分")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.score.week["sum"]))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("周总分")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.score.month["sum"]))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("月总分")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.score.year["sum"]))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("年总分")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.score.all["sum"]))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("总分")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.count))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("总发布数")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.scoreNull))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("未评数")])],1),n("u-grid-item",[n("v-uni-view",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.count-e.scoreNull))]),n("v-uni-text",{staticClass:"grid-text"},[e._v("已评数")])],1)],1),n("v-uni-view",{staticClass:"msg",staticStyle:{"margin-top":"40rpx"}},[n("u-cell-group",[n("u-cell-item",{attrs:{icon:"phone",title:"手机号码",value:e.userInfo["phone"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("phone")}}}),n("u-cell-item",{attrs:{title:"真实姓名",value:e.userInfo["realname"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("realname")}}}),n("u-cell-item",{attrs:{title:"渔船船号",value:e.userInfo["fishingBoats"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("fishingBoats")}}}),n("u-cell-item",{attrs:{title:"作业方式",value:e.selector[e.userInfo["operatingType"]]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("operatingType")}}}),n("u-cell-item",{attrs:{title:"主机功率(千瓦)",value:e.userInfo["machinePower"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("machinePower")}}}),n("u-cell-item",{attrs:{title:"岸上紧急联系人及电话",value:e.userInfo["emergencyCall"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("emergencyCall")}}}),n("u-cell-item",{attrs:{title:"修改密码"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("password")}}}),n("u-cell-item",{attrs:{title:"使用说明",value:e.userInfo["instructions"]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPage("instructions")}}})],1),n("u-cell-group",{staticStyle:{"margin-top":"20rpx"}},[n("u-cell-item",{attrs:{title:"退出登录"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.logout.apply(void 0,arguments)}}})],1)],1)],1)},a=[]},"718c":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-bd1eede4]{background-color:#f4f6f8}body.?%PAGE?%[data-v-bd1eede4]{background-color:#f4f6f8}',""]),e.exports=t},"806b":function(e,t,n){"use strict";var i=n("fca1"),r=n.n(i);r.a},"828d":function(e,t,n){"use strict";n.r(t);var i=n("518d"),r=n("f82c");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("6227");var o,l=n("f0c5"),u=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"7b35cbe4",null,!1,i["a"],o);t["default"]=u.exports},9951:function(e,t,n){"use strict";n.r(t);var i=n("d503"),r=n("5df1");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("806b");var o,l=n("f0c5"),u=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"bd1eede4",null,!1,i["a"],o);t["default"]=u.exports},"9d63":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-cell-box[data-v-7b35cbe4]{width:100%}.u-cell-title[data-v-7b35cbe4]{padding:%?30?% %?32?% %?10?% %?32?%;font-size:%?30?%;text-align:left;color:#909399}.u-cell-item-box[data-v-7b35cbe4]{background-color:#fff;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}',""]),e.exports=t},a86d:function(e,t,n){"use strict";n.r(t);var i=n("d4c5"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},b2f0:function(e,t,n){var i=n("0391");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("7ca71170",i,!0,{sourceMap:!1,shadowMode:!1})},be77:function(e,t,n){"use strict";n.r(t);var i=n("421f"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},c2d3:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uIcon:n("1210").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-cell",class:{"u-border-bottom":e.borderBottom,"u-border-top":e.borderTop,"u-col-center":e.center,"u-cell--required":e.required},style:{backgroundColor:e.bgColor},attrs:{"hover-stay-time":"150","hover-class":e.hoverClass},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.click.apply(void 0,arguments)}}},[e.icon?n("u-icon",{staticClass:"u-cell__left-icon-wrap",attrs:{size:e.iconSize,name:e.icon,"custom-style":e.iconStyle}}):n("v-uni-view",{staticClass:"u-flex"},[e._t("icon")],2),n("v-uni-view",{staticClass:"u-cell_title",style:[{width:e.titleWidth?e.titleWidth+"rpx":"auto"},e.titleStyle]},[""!==e.title?[e._v(e._s(e.title))]:e._t("title"),e.label||e.$slots.label?n("v-uni-view",{staticClass:"u-cell__label",style:[e.labelStyle]},[""!==e.label?[e._v(e._s(e.label))]:e._t("label")],2):e._e()],2),n("v-uni-view",{staticClass:"u-cell__value",style:[e.valueStyle]},[""!==e.value?[e._v(e._s(e.value))]:e._t("default")],2),e.$slots["right-icon"]?n("v-uni-view",{staticClass:"u-flex u-cell_right"},[e._t("right-icon")],2):e._e(),e.arrow?n("u-icon",{staticClass:"u-icon-wrap u-cell__right-icon-wrap",style:[e.arrowStyle],attrs:{name:"arrow-right"}}):e._e()],1)},a=[]},cf01:function(e,t,n){var i=n("f585");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("0186e952",i,!0,{sourceMap:!1,shadowMode:!1})},d4c5:function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5530"));n("96cf");var a=i(n("1da1")),o=n("a325"),l={data:function(){var e=this;return{model:0,form:{username:"",password:"",rememberMe:!0,rememberPass:!1},form2:{username:"",password:"",password2:""},modalShow:!1,btnLoading:!1,showConfirm:!0,showCancel:!1,modalTitle:"",rules:{username:[{required:!0,message:"请输入账号",trigger:"blur,change"}],password:[{required:!0,message:"请输入密码",trigger:"blur,change"}],password2:[{required:!0,message:"请再次输入密码",trigger:"blur,change"},{validator:function(t,n,i){return n==e.form2.password},message:"两次密码不一致，请重新输入",trigger:["change","blur"]}]}}},methods:{init:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("exitLogin");case 1:case"end":return t.stop()}}),t)})))()},login:function(){var t=this;this.$refs.uForm.validate((function(n){if(n){var i=(0,r.default)({},t.form);i.password=(0,o.encrypt)(i.password),delete i.rememberPass,delete i.expireLogin,uni.showLoading(),t.$api.loginApi(i).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(uni.hideLoading(),200!==n.status){e.next=8;break}return e.next=4,t.$store.dispatch("setLogin",{username:i.username,password:i.rememberPass?i.password:"",rememberMe:i.rememberMe,rememberPass:i.rememberPass,expireLogin:!1});case 4:return e.next=6,t.$store.dispatch("setToken",n["token"]);case 6:e.next=9;break;case 8:t.$isEmpty(n["msg"])?(t.modalTitle="发生未知错误",t.modalShow=!0):(t.modalTitle=n["msg"],t.modalShow=!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(n){e.log(n),uni.hideLoading(),t.modalTitle="发生未知错误",t.modalShow=!0}))}}))},register:function(){var t=this;this.$refs.uForm2.validate((function(n){if(n){var i=(0,r.default)({},t.form2);i.password=(0,o.encrypt)(i.password),delete i.password2,uni.showLoading(),t.$api.registerApi(i).then((function(e){uni.hideLoading(),201===e.status?(t.changeModel(0),t.form.username=i.username,t.modalTitle="注册成功",t.modalShow=!0):t.$isEmpty(e["msg"])?(t.modalTitle="发生未知错误",t.modalShow=!0):(t.modalTitle=e["msg"],t.modalShow=!0)})).catch((function(n){e.log(n),uni.hideLoading(),t.modalTitle="发生未知错误",t.modalShow=!0}))}}))},changeModel:function(e){var t=this;0===e?(this.model=e,this.$nextTick((function(){t.$refs.uForm.setRules(t.rules)}))):1===e&&(this.model=e,this.$nextTick((function(){t.$refs.uForm2.setRules(t.rules)})))}},mounted:function(){Object.assign(this.form,(0,r.default)({},this.$store.getters.login)),this.changeModel(0),this.init()}};t.default=l}).call(this,n("5a52")["default"])},d503:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column"}},[e.isLogin?e._e():n("login",{staticStyle:{flex:"1 1 auto"}}),e.isLogin?n("person",{ref:"personRef",staticStyle:{flex:"1 1 auto"}}):e._e()],1)},a=[]},db2f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-cell-group",props:{title:{type:String,default:""},border:{type:Boolean,default:!0},titleStyle:{type:Object,default:function(){return{}}}},data:function(){return{index:0}}};t.default=i},dd60:function(e,t,n){"use strict";n.r(t);var i=n("4dfb"),r=n("a86d");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("fa31");var o,l=n("f0c5"),u=Object(l["a"])(r["default"],i["b"],i["c"],!1,null,"3943a694",null,!1,i["a"],o);t["default"]=u.exports},f585:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.fade-enter-active[data-v-3943a694], .fade-leave-active[data-v-3943a694]{-webkit-transition:opacity .1s;transition:opacity .1s}.fade-enter[data-v-3943a694], .fade-leave-to[data-v-3943a694]{opacity:0}',""]),e.exports=t},f811:function(e,t,n){"use strict";var i=n("b2f0"),r=n.n(i);r.a},f82c:function(e,t,n){"use strict";n.r(t);var i=n("db2f"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},fa31:function(e,t,n){"use strict";var i=n("cf01"),r=n.n(i);r.a},fca1:function(e,t,n){var i=n("718c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("41cbe428",i,!0,{sourceMap:!1,shadowMode:!1})},fd09:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("dd60")),a=i(n("1dcf")),o={data:function(){return{}},onLoad:function(){},methods:{},onShow:function(){var e=this;this.$nextTick((function(){e.isLogin&&e.$refs.personRef.collectMe()}))},computed:{isLogin:function(){return!this.$isEmpty(this.$store.getters.token)}},components:{login:r.default,person:a.default}};t.default=o}}]);